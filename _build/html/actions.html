

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Actions &mdash; tago-documentation 1.11.56 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="tago-documentation 1.11.56 documentation" href="index.html"/>
        <link rel="next" title="Tutorials" href="tutorials.html"/>
        <link rel="prev" title="Analysis" href="analysis.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> tago-documentation
          

          
          </a>

          
            
            
              <div class="version">
                1.11.56
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getstarted.html">Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="concepts.html">Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="dashboard.html">Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Actions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#create-actions">Create Actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#define-actions">Define Actions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#send-e-mail">Send e-mail</a></li>
<li class="toctree-l3"><a class="reference internal" href="#send-sms">Send SMS</a></li>
<li class="toctree-l3"><a class="reference internal" href="#send-to-device">Send to Device</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-analysis-script">Run Analysis Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="#http-post-end-point">HTTP Post End-Point</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#define-condition">Define condition</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#set-trigger">Set Trigger</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reset-trigger">Reset Trigger</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="newmenuentry.html">SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">tago-documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Actions</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/actions.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="actions">
<span id="ref-actions-actions"></span><h1>Actions<a class="headerlink" href="#actions" title="Permalink to this headline">¶</a></h1>
<p><strong>Actions</strong> is a very powerful feature that gives you the total control over your devices based on events determined by you.
More than sending e-mail or SMS based on certain conditions, with Actions, it is also possible to send data back to the device, run scripts in the Analysis, and make a HTTP Post end-point.
With these capabilities combined, there a limitless possibilities to create any event condition, not limited to simple an if/else condition.</p>
<div class="section" id="create-actions">
<h2>Create Actions<a class="headerlink" href="#create-actions" title="Permalink to this headline">¶</a></h2>
<p>To create a new Action, just click on the button &#8216;Actions&#8217; located at the sidebar, give a name to your new action and click on <strong>Save</strong>.</p>
<p>// DEPOIS MUDAR PARA UM VIDEO COM ACTIONS.</p>
<video style="max-width: 100%;" src="_static/dashboard/dashboard_create.mp4" autobuffer controls></video><br><br></div>
<div class="section" id="define-actions">
<h2>Define Actions<a class="headerlink" href="#define-actions" title="Permalink to this headline">¶</a></h2>
<p>First thing to do when configuring an Action, is to define which action it will should be taken. Each type of action is described in the sessions below.</p>
<div class="section" id="send-e-mail">
<h3>Send e-mail<a class="headerlink" href="#send-e-mail" title="Permalink to this headline">¶</a></h3>
<p>An e-mail will be sent when the condition <a class="reference internal" href="#actions-set-trigger"><span>Define condition</span></a> is met.
To create an action, select the <em>Action to be taken</em> as: <strong>Send e-mail</strong>, enter with the e-mail address, and a subject.</p>
<p>The message body can be as simple as a text: &#8216;Hi, your car is over the speed limit&#8217;.
Or you can special fields on the message to personalize it with real-time data from your bucket and devices.
You can use most of the JSON field from our API:</p>
<ol class="arabic simple">
<li>$VARIABLE$</li>
<li>$BUCKET$</li>
<li>$VALUE$</li>
<li>$UNIT$</li>
<li>$TIME$</li>
<li>$LOCATION$</li>
<li>$DEVICE$</li>
</ol>
<p>For example, a personalized message like this:  &#8216;Hi, your $DEVICE$ reached $VALUE$ $UNIT$ at $LOCATION$&#8217;, could created an e-mail like: &#8216;Hi, your Passat reached 73 mph at 43.0533,-86.4534&#8217;</p>
<p>To avoid sending e-mail continuously when a trigger condition is met, you may have to define a reset trigger condition.
Check <a class="reference internal" href="#actions-reset-trigger"><span>Reset Trigger</span></a> to avoid issues with your logic and even your account.</p>
<p>E-mails can be sent directly from scripts in the Analysis. For such action, you can use the service(e-mail)  //ADD LINK HERE.
Check the terms of use, and your plan before using the E-mail service.</p>
</div>
<div class="section" id="send-sms">
<h3>Send SMS<a class="headerlink" href="#send-sms" title="Permalink to this headline">¶</a></h3>
<p>An SMS will be sent when the condition <a class="reference internal" href="#actions-set-trigger"><span>Define condition</span></a> is met.
To create an action, select the <em>Action to be taken</em> as: <strong>Send SMS</strong>, and enter with the phone number, including the country code. If there is no country code, the system will assume the USA code (+1).</p>
<p>The message body can be as simple as a text: &#8216;Hi, your car is over the speed limit&#8217;.
Or you can special fields on the message to personalize it with real-time data from your bucket and devices.
You can use most of the JSON field from our API:</p>
<ol class="arabic simple">
<li>$VARIABLE$</li>
<li>$BUCKET$</li>
<li>$VALUE$</li>
<li>$UNIT$</li>
<li>$TIME$</li>
<li>$LOCATION$</li>
<li>$DEVICE$</li>
</ol>
<p>For example, a personalized message like this:  &#8216;Hi, your $DEVICE$ reached $VALUE$ $UNIT$ at $LOCATION$&#8217;,
would text: &#8216;Hi, you Passat reached 73 mph at 43.0533,-86.4534&#8217;</p>
<p>To prevent from sending SMS&#8217;s continuously when a trigger condition is met, you may have to define a reset trigger condition.
Check <a class="reference internal" href="#actions-reset-trigger"><span>Reset Trigger</span></a> to avoid issues with your logic and even with your account.</p>
<p>Some costs may occur when using the SMS service, which varies based on the country of operation. Check pricing, terms of use, and your plan before using the SMS service.</p>
</div>
<div class="section" id="send-to-device">
<h3>Send to Device<a class="headerlink" href="#send-to-device" title="Permalink to this headline">¶</a></h3>
<p>Data can be sent directly to your device by using the Socket.io realtime capability.
Of course, you can program your device to get data from the buckets using the GET method, but it may not know when to try to get data if it doesn&#8217;t know if the value of the variable change.
This action is similar to a push notification, where the information is sent to a device without the need of a GET command being issued from its side.
Every time the condition defined in the <strong>Trigger Setup</strong> is met, that variable is sent to all the devices connected to the bucket where the variable is stored.
In the example below, the variable &#8216;setpoint&#8217; is sent to all devices connected to the bucket Python, every time a new value arrives.</p>
<a class="reference internal image-reference" href="_static/actions/send_to_device.png"><img alt="_static/actions/send_to_device.png" src="_static/actions/send_to_device.png" style="width: 100%;" /></a>
<p>Although the variable can be sent by another device, it is common to send variables that are originated by the scripts that are running in the Analysis or from a Form in the Dashboard.</p>
<p><strong>Note:</strong> When using socket.io to receive data, the device should be in the <em>listening</em> mode. Check our out <a class="reference internal" href="newmenuentry.html#ref-sdk-sdk"><span>SDK</span></a> to get code example to quickly implement this function in your platform.</p>
</div>
<div class="section" id="run-analysis-script">
<h3>Run Analysis Script<a class="headerlink" href="#run-analysis-script" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="http-post-end-point">
<h3>HTTP Post End-Point<a class="headerlink" href="#http-post-end-point" title="Permalink to this headline">¶</a></h3>
</div>
</div>
<div class="section" id="define-condition">
<span id="actions-set-trigger"></span><h2>Define condition<a class="headerlink" href="#define-condition" title="Permalink to this headline">¶</a></h2>
<p>In order to initiate an action process, certain conditions should be met. Internally, Tago uses a <em>trigger</em> as the flag to monitor this process.</p>
<div class="section" id="set-trigger">
<h3>Set Trigger<a class="headerlink" href="#set-trigger" title="Permalink to this headline">¶</a></h3>
<p>One condition to start the action is when the selected variable meets the criteria defined in <strong>Set Trigger</strong>.
Enter with the variable to be tested (it is tested every time a new value arrives), the Condition, and the value to be compared against.</p>
<a class="reference internal image-reference" href="_static/actions/set_trigger.png"><img alt="_static/actions/set_trigger.png" src="_static/actions/set_trigger.png" style="width: 100%;" /></a>
<p>The available test conditions are:</p>
<ol class="arabic simple">
<li><strong>Less than</strong>  - condition is true when the value of the variable is less than the value defined</li>
<li><strong>Greater than</strong> - condition is true when the value of the variable is greater than the value defined</li>
<li><strong>Equal to</strong> - condition is true when the value of the variable is equal to the value defined</li>
<li><strong>Different from</strong> - condition is true when the value of the variable is different from the value defined</li>
<li><strong>Any</strong>- condition is true whenever a new value of the variable is sent to the bucket</li>
</ol>
<p>Another condition depends on the <em>Define Reset Trigger Condition</em> switch status. If it is <strong>NO</strong>, the action will be taken solely based on the <strong>Set Trigger</strong> condition explained above.
If it is set to <strong>YES</strong>, the condition above will only be tested if the Trigger is not Locked.  The status of the trigger can be manually changed as showed below, that is under the session &#8216;More&#8217;.
A more common option to unlock the trigger is to use the <a class="reference internal" href="#actions-reset-trigger"><span>Reset Trigger</span></a> setup.</p>
<a class="reference internal image-reference" href="_static/actions/trigger_locked.png"><img alt="_static/actions/trigger_locked.png" src="_static/actions/trigger_locked.png" style="width: 100%;" /></a>
<p><strong>Note:</strong> Combined logic tests can be easily implemented in the <a class="reference internal" href="analysis.html#ref-analysis-analysis"><span>Analysis</span></a>. For example, if you want to take an action to send an SMS
when the (temperature &gt; 95C) AND (time_of_day == night) AND (User_at_home == false), you can simply create an Action to Run a scripts in Analysis every time
the new temperature variable arrives, and just write a simple script to make the logic test. This method is very powerful to test basically any complex combination.</p>
</div>
<div class="section" id="reset-trigger">
<span id="actions-reset-trigger"></span><h3>Reset Trigger<a class="headerlink" href="#reset-trigger" title="Permalink to this headline">¶</a></h3>
<p>Each time a <strong>Set Trigger</strong> condition is met, the trigger is locked if the <em>Define Reset Trigger Condition</em> switch is set <strong>YES</strong>.
In this case, the <strong>Set Trigger</strong> condition will only be tested again when the <strong>Reset Trigger</strong> condition is met. This is helpful to create an hysteresis for example.</p>
<p>However, if the <em>Define Reset Trigger Condition</em> switch is set <strong>NO</strong>, the trigger will never be locked, and any time that the <strong>Set Trigger</strong> condition is met, it will take the defined action.
Depending on your logic, it may be undesirable.</p>
<p>One example of undesirable situation would be if you would want to receive an SMS when the temperature is above 95 C.
After reaching &gt;95C the system will send a SMS. But, if the device continue sending more values above 95C the system would send another SMS for each value received!
You may want to implement an hysteresis using a <strong>Reset Trigger</strong> condition. If you define the condition to reset when temperature &lt; 90 C for example, it would prevent this issue.
Only one SMS would be sent, and the system would be locked until the temperature goes below 90 C. Which seems much more reasonable in this example.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="tutorials.html" class="btn btn-neutral float-right" title="Tutorials" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="analysis.html" class="btn btn-neutral" title="Analysis" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Tago LLC.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.11.56',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>